# TODO

- これだけではほしい情報が足りないことに気づいてしまった
  - バーティカル方向関連
    - 設定した解像度はIIDXフレームで言うところの白数字いくつ相当なのか？
    - LR2のレーンカバー10はIIDXフレームの白数字いくつ相当なのか？(優先度低)
  - HS関連
    - LR2のHS10はIIDXのHSいくつ相当なのか？

## 白数字コンバーターを作る

- あるやん〜〜〜
  - https://tumblr.ribbit.xyz/post/98609071965/ac-iidx-緑数字-と-lr2-hs-の相互変換

- とりあえず使ってみる
  - まずはREMI-S
  - 感覚的にはLR2設定値よりもIIDXの設定値のほうが遅く感じる。
    - 手元で再現できた

- 白数字変換ツールもあった
  - こっちはppiが考慮されてないので、自分のモニタでは参考にならないかも。
    - ppiが考慮されてないことに気づいてこっちはスクラッチで作ることにした

- 検算方法を考える。
  - 白数字: 実際にACと測り比べてくれば良い
    - IIDX
      - iidxレーンカバー: 999でMAX
        - 307/999=0.307472481152272
      - yの大きさ: 307mm
      - モニタのスペック: 640x480@37inch@16:9
        - ここだけの情報でIIDXの白数字1つ分のmmと、レーンカバーを被せないときのmmがわかる
    - LR2
      - LR2レーンカバー: 20回でMAX
      - yの大きさ: 測る
      - モニタのスペック: 測る
        - ここだけの情報でBMSのデフォルトのmmがわかる
          - それにレーンカバーを足したmmはIIDXの白数字いくつ足した値が適当か測ればOK
  - 緑数字: ACとBMSでそれぞれキャプチャして大体あってそうか見ればいい

## 緑数字コンバーターを作る

- どう作ろうかなぁ
  - 定義から攻めてみる
  - 定義は調査結果のサイトから再度拝借
  - https://tumblr.ribbit.xyz/post/98609071965/ac-iidx-緑数字-と-lr2-hs-の相互変換
    - どうやらレーンカバーのMAXはこのサイトだと10換算っぽい

- 緑数字とは
  - 1緑数字 = 0.1frame(60fps)

- HS(LR2)とは
  - 実スクロールスピード = 基準スピード*スクロールスピード*ハイスピード

- レーンカバーの謎が解けたので、一旦計算式を丸パクリすることにした。
  - できた。

## 実行結果

```txt
==========================================
モニタ名: acOrg40v30Monitor
 -> 40.0 (インチ)
 -> 16:9 (アスペクト比)
 -> 1280x720 (pixel)
 -> 885x498 (mm)
 -> 0.69x0.69 (mm/pixel)
モニタ名: cindyMonitor
 -> 31.5 (インチ)
 -> 16:9 (アスペクト比)
 -> 3840x2160 (pixel)
 -> 697x392 (mm)
 -> 0.18x0.18 (mm/pixel)
フレーム名: iidxHdFrame
 -> 1280x720 (フレーム全体の解像度)(pixel)
 -> 287x481 (ノートレーンのみの解像度)(pixel)
フレーム名: ninePlusSdFrame
 -> 640x480 (フレーム全体の解像度)(pixel)
 -> 232x322 (ノートレーンのみの解像度)(pixel)
 -> 220.0 (ハイスピード)(BMSフレームのみ)
 -> 15.0 (レーンカバー)(BMSフレームのみ)

⭐ACフレームの横幅をBMSで再現⭐
 -> acOrg40v30MonitorでiidxHdFrameを表示した時のフレーム幅(mm): 198.55
 -> cindyMonitorでninePlusSdFrameを表示した時のフレーム幅(mm): 42.13
   -> cindyMonitorでninePlusSdFrameを使った時にiidxHdFrameのフレーム横幅を再現するには、LR2の解像度を4.71倍すればいい
   -> ✅LR2のウィンドウサイズ = 3016x2262 にすればninePlusSdFrameでiidxHdFrameのフレーム横幅を再現できる。

⭐4.71倍に大きくしたninePlusSdFrameの縦幅をiidxHdFrameで再現するための白数字の算出⭐
 -> iidxHdFrame周り
   -> iidxHdFrameのレーンの高さ: 332.76 mm
   -> iidxHdFrameの白数字1つあたりの高さ: 0.33 mm
 -> ninePlusSdFrame周り
   -> 4.71倍に大きくしたninePlusSdFrameのレーンの高さ: 275.57 mm
 -> 差分を測る
   -> iidxHdFrameとninePlusSdFrameの高さ差分: 57.18 mm
   -> ✅iidxHdFrameとninePlusSdFrameの高さ差分を埋めるための白数字: 171
 -> シャッターを考慮した場合の白数字を計算
   -> ✅更にシャッターを15/100降ろした場合の高さを白数字換算: 295

⭐ninePlusSdFrameのハイスピード:220.0, シャッター:15.0を緑数字に換算⭐
 -> HS: 220.0
 -> シャッター: 15.0 (%)
   -> ✅算出される緑数字: 372
```

## 感想

- 隣駅のゲーセンが非純正モニタだったのがショックですわ。
- これ今度Webから叩けるようにしたい
